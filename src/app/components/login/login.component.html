<sc-navigation></sc-navigation>


<div class="container parent">
    <!-- PAGE HEADING -->
    <div class="col-md-6 mx-auto text-center">
        <div class="header-title">
            <h1 class="wv-heading--title">
                Su<span class="logo-cut">Casa</span>
            </h1>
            <h2 class="wv-heading--subtitle">
                Login
            </h2>
        </div>
    </div>

    <!-- TEMP LOGIN DETAILS FOR EASY ACCESS TO PRELOADED ACCOUNTS -->
    <div class="row">
        <p class="wv-heading--subtitle text-center">
            email@gmail.com
            Bongani123
            access: User
        </p>
        <p class="wv-heading--subtitle text-center">
            somestuff@gmail.com
            Namukolo123
            access: Admin
        </p>


        <!-- LOGIN FORM -->
        <div class="col-md-4 mx-auto">
            <div class="myform form">
                <form action="" method="" name="login" [formGroup]="loginForm" novalidate (ngSubmit)="login()">
                    <!-- EMAIL -->
                    <div class="form-group mb-4">
                        <input type="email" name="email" class="form-control my-input" id="email" placeholder="email"
                            formControlName="email" [ngClass]="{'is-invalid': 
                        (loginForm.get('email')?.touched ||
                        loginForm.get('email')?.dirty) &&
                        !loginForm.get('email')?.valid}" />
                    </div>

                    <!-- PASSWORD -->
                    <div class="form-group mb-4">
                        <input type="password" name="password" class="form-control my-input" id="password"
                            placeholder="Password" formControlName="password" [ngClass]="{'is-invalid': 
                            (loginForm.get('password')?.touched ||
                            loginForm.get('password')?.dirty) &&
                            !loginForm.get('password')?.valid}" />
                    </div>

                    <!-- SUBMIT BUTTON  -->
                    <div class="text-center ">
                        <button type="submit" class=" btn btn-block send-button tx-tfm">Login</button>

                        <div class="alert alert-danger" style="margin-top: 1rem;" role="alert" *ngIf="invalid">
                            Please enter all the required fields
                        </div>
                        <div class="alert alert-danger" style="margin-top: 1rem;" role="alert" *ngIf="failedLogin">
                            Incorrect email or password
                        </div>
                        <div class="alert alert-success" style="margin-top: 1rem;" role="alert" *ngIf="success">
                            Login successful - Welcome
                        </div>
                    </div>
                </form>

                <div class="text-center field-tip" routerLink="/registration">
                    Don't have an account? sign up
                </div>
                <button (click)="delete()">Clear local storage</button>

            </div>
        </div>
    </div>
</div>